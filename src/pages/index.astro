---
import { getCollection } from "astro:content";
import IndexPage from "../components/IndexPage.astro";
import { PAGINATION, SortOptionsEnum, SortOrdersEnum } from "../helpers";

const themes = await getCollection("themes");
const rawSort = Astro.url.searchParams.get("sort");
const sort = SortOptionsEnum.parse(rawSort);
const rawOrder = Astro.url.searchParams.get("order");
const order = SortOrdersEnum.parse(rawOrder);
---

<IndexPage page={PAGINATION.getPage(themes, 1, sort, order)} />
